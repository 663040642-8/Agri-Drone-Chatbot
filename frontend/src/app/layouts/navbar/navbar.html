<nav class="bg-emerald-700 shadow-xl z-20 relative">
  <div class="h-16 flex justify-between items-center px-4">

    <a routerLink="/" class="flex items-center space-x-2">
      <span class="text-white text-2xl font-medium tracking-tight cursor-pointer">
        Chatbot โดรนเกษตร
      </span>
    </a>

    <!-- ปุ่มเปิด/ปิดเมนู -->
    <button (click)="toggleMobileMenu()" class="text-white md:hidden p-2 focus:outline-none z-30">
      <svg class="w-6 h-6 transition-transform duration-300"
        [ngClass]="{ 'rotate-180': isMenuOpen }"
        xmlns="http://www.w3.org/2000/svg" fill="none"
        viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M4.5 5.25l7.5 7.5 7.5-7.5m-15 6l7.5 7.5 7.5-7.5" />
      </svg>
    </button>

    <!-- ปุ่ม login/register บนจอใหญ่ -->
    <div class="hidden md:flex items-center space-x-4">
      <a routerLink="login"
        class="text-white font-semibold py-2 px-4 rounded-full border-2 border-emerald-500 hover:bg-emerald-600 transition duration-300">
        เข้าสู่ระบบ
      </a>
      <a routerLink="register"
        class="bg-emerald-500 hover:bg-emerald-600 text-white font-semibold py-2 px-4 rounded-full shadow-lg transition duration-300">
        สมัครสมาชิก
      </a>
    </div>
  </div>
</nav>

<!-- Overlay -->
@if (isMenuOpen) {
  <div (click)="toggleMobileMenu()"
    class="md:hidden fixed inset-0 bg-black opacity-10 z-10 transition-opacity duration-300 ease-in-out">
  </div>
}

<!-- เมนูขยาย -->
<div
  class="md:hidden absolute top-16 left-0 w-full bg-emerald-600 overflow-hidden z-20 shadow-lg transition-all duration-300 ease-in-out"
  [ngClass]="{
    'max-h-0 opacity-0': !isMenuOpen,
    'max-h-60 opacity-100': isMenuOpen
  }"
>
  <div class="flex flex-col space-y-2 px-6 py-3 transition-opacity duration-300">
    <a routerLink="login" (click)="toggleMobileMenu()"
      class="text-white font-semibold py-2 px-4 rounded-lg bg-emerald-500 hover:bg-emerald-400 text-center transition duration-300">
      เข้าสู่ระบบ
    </a>
    <a routerLink="register" (click)="toggleMobileMenu()"
      class="text-white font-semibold py-2 px-4 rounded-lg bg-emerald-500 hover:bg-emerald-400 text-center transition duration-300">
      สมัครสมาชิก
    </a>
  </div>
</div>
